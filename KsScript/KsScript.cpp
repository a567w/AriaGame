/************************************************************************************************/
/** 
 * @file		KsScript.cpp
 * @brief		スクリプト
 * @author		Tsukasa Kato
 * @date		----/--/--
 * @since		----/--/--
 * @version		1.0
 */
/************************************************************************************************/

/*==============================================================================================*/
/*                                 << インクルード >>                                           */
/*==============================================================================================*/
#include "KsScript/KsScriptPreCompile.h"
#include "KsScript.h"

/*==============================================================================================*/
/*                                     << 定義 >>                                               */
/*==============================================================================================*/

/*==============================================================================================*/
/*                                     << 宣言 >>                                               */
/*==============================================================================================*/

/************************************************************************************************/
/*
 * コンストラクタ
 */
/************************************************************************************************/
KsScript::KsScript()
	: m_name( "none" )
	, m_id( 0 )
	, m_pCode( 0 )
	, m_pStringHandleList( 0 )
	, m_pGlobalHandleList( 0 )
	, m_pStructHandleList( 0 )
	, m_pFuncHandleList( 0 )
{
}

/************************************************************************************************/
/*
 * デストラクタ
 */
/************************************************************************************************/
KsScript::~KsScript()
{
	destroy();
}

/************************************************************************************************/
/*
 * スクリプト作成
 * @param	size		サイズ
 */
/************************************************************************************************/
void KsScript::create( KsInt32 size )
{
	m_pCode             = new KsChar[ size ]; //KsScriptMalloc( size );
	m_pStringHandleList = 0;
	m_pGlobalHandleList = 0;
	m_pStructHandleList = 0;
	m_pFuncHandleList   = 0;
}

/************************************************************************************************/
/*
 * スクリプトを削除する
 */
/************************************************************************************************/
void KsScript::destroy()
{
	ksDELETEARRAY( m_pCode );

	m_pCode             = NULL;
	m_pStringHandleList = NULL;
	m_pGlobalHandleList = NULL;
	m_pStructHandleList = NULL;
	m_pFuncHandleList   = NULL;
}

