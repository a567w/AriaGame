/************************************************************************************************/
/** 
 * @file		KsTypeScript.h
 * @brief		
 * @author		Tsukasa Kato
 * @date		2006/08/17
 * @since		----/--/--
 * @version		1.0
 */
/************************************************************************************************/
#ifndef __KSTYPESCRIPT_H__
#define __KSTYPESCRIPT_H__

/*==============================================================================================*/
/*                                 << インクルード >>                                           */
/*==============================================================================================*/
#include "KsScriptCompile.h"

/*==============================================================================================*/
/*                                     << 定義 >>                                               */
/*==============================================================================================*/

/*==============================================================================================*/
/*                                     << 宣言 >>                                               */
/*==============================================================================================*/
class KsVirtualMachine;

/************************************************************************************************/
/*
 * 中間コード
 */
/************************************************************************************************/
#include "KsIntermediateCode.h"

/************************************************************************************************/
/**
 *
 */
/************************************************************************************************/
typedef KsInt32 (*KsScriptLibCallback)( KsVirtualMachine* pVirtualMachine );

/************************************************************************************************/
/**
 *
 */
/************************************************************************************************/
enum ksSCRIPT_ERROR_CODE
{
	ksSCRIPT_OK    = 0x00000000,
	ksSCRIPT_ERROR = 0x80000000,
};

/************************************************************************************************/
/**
 * ksVALUE_TYPE
 * @enum	ksVALUE_TYPE
 * @author	Tsukasa Kato
 * @since   2006/--/--
 * @version 2006/--/--
 */
/************************************************************************************************/
enum ksVALUE_TYPE
{
	ksVALUE_INVALID  = 0,					/**< 未定義の値					*/
	ksVALUE_NULL     = 1,					/**< NULL						*/
	ksVALUE_INT      = 2,					/**< 変数 int 型				*/
	ksVALUE_FLOAT    = 3,					/**< 変数 float 型				*/
	ksVALUE_HANDLE   = 4,					/**< 変数 ハンドル型			*/
	ksVALUE_STRING   = 5,					/**< 文字列						*/
	ksVALUE_STRCT    = 6,					/**< 構造体						*/
	ksVALUE_FUNCTION = 7,					/**< 関数						*/
	ksVALUE_USER     = 8,					/**< ユーザーデータ				*/
	ksVALUE_FORCE32  = 0x7fffffff,			/**< 強制32ビット				*/

};

/************************************************************************************************/
/**
 * 変数共用体
 * @union	KsValue
 * @author	Tsukasa Kato
 * @since   2006/--/--
 * @version 2006/--/--
 */
/************************************************************************************************/
typedef union KsValue
{
	KsInt32			i;					/**< 整数			*/
	KsReal				f;					/**< 浮動小数点		*/
	KsHandle			h;					/**< ハンドル		*/
}KsValue;

/************************************************************************************************/
/**
 *
 */
/************************************************************************************************/
typedef struct KsHandleList
{
	KsHandle				handle;		/**< ハンドル		*/
	KsHandleList*			next;		/**< ハンドルリスト	*/
}KsHandleList;

/************************************************************************************************/
/**
 *
 */
/************************************************************************************************/
typedef struct _KsScriptLibInfo
{
	KsChar*					pFuncName;		/**< 関数名					*/
	KsScriptLibCallback		callback;		/**< コールバック関数		*/
}KsScriptLibInfo;


#endif /* __KSTYPESCRIPT_H__ */



