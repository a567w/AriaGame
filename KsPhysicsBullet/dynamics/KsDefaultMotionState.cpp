/************************************************************************************************/
/** 
 * @file		KsDefaultMotionState.h
 * @brief		物理シミュレーションシステム
 * @author		Tsukasa Kato
 * @date		----/--/--
 * @since		----/--/--
 * @version		1.0.0
 */
/************************************************************************************************/

/*==============================================================================================*/
/*                                 << インクルード >>                                           */
/*==============================================================================================*/
#include "KsPhysicsBullet/KsPhysicsBulletPreCompile.h"
#include "KsDefaultMotionState.h"

/*==============================================================================================*/
/*                                     << 定義 >>                                               */
/*==============================================================================================*/

/*==============================================================================================*/
/*                                     << 宣言 >>                                               */
/*==============================================================================================*/

/************************************************************************************************/
/*
 * コンストラクタ
 */
/************************************************************************************************/
KsDefaultMotionState::KsDefaultMotionState( const KsMatrix4x4& refTransform )
	: KsMotionState()
	, m_pMotionState( 0 )
{
	btTransform		transform;

	transform.setIdentity();
	transform.setFromOpenGLMatrix( refTransform.data );

	m_pMotionState = new btDefaultMotionState( transform );
}

/************************************************************************************************/
/*
 * デストラクタ
 */
/************************************************************************************************/
KsDefaultMotionState::~KsDefaultMotionState()
{
	ksDELETE( m_pMotionState );
}

/************************************************************************************************/
/*
 * リソースを取得する
 * @return							 リソース
 */
/************************************************************************************************/
void* KsDefaultMotionState::getMotionStateResource()
{
	return m_pMotionState;
}

